import{S as fe,i as pe,s as de,d as j,P as ee,v as me,p as O,c as C,q as E,r as B,l as $,f as z,u as V,x as S,g as M,I as k,X as be,Q as te,R as ne,T as oe,Y as ye,k as y,Z as we,_ as se,h as w,$ as ie,K as A,L as H,a0 as K,N as $e,m as ke,U as Pe,C as D,D as R,E as I,j as Q,F as L,a1 as Ve,W as le,e as ce,B as U,V as Oe}from"../chunks/index.5250e37f.js";import{V as N}from"../chunks/store.14a3b6a8.js";import{B as T}from"../chunks/Button.3d9cf4b7.js";import{L as _e}from"../chunks/LogoMain.5dcc8529.js";import{f as W}from"../chunks/index.294731ba.js";const he=(o,e)=>{const t=n=>{o&&!o.contains(n.target)&&!n.defaultPrevented&&e()};return document.addEventListener("click",t,!0),document.addEventListener("touchstart",t,!0),{destroy(){document.removeEventListener("click",t,!0),document.removeEventListener("touchstart",t,!0)}}};const q="src/lib/components/Popup.svelte",Ee=o=>({}),re=o=>({}),Be=o=>({}),ae=o=>({});function X(o){let e,t,n,d,r,a,c,s,u,f;const p=o[2].header,g=ee(p,o,o[1],ae),m=o[2].body,b=ee(m,o,o[1],re),v={c:function(){e=O("div"),t=O("div"),n=O("div"),g&&g.c(),d=C(),r=O("div"),b&&b.c(),this.h()},l:function(l){e=E(l,"DIV",{class:!0});var h=B(e);t=E(h,"DIV",{class:!0});var _=B(t);n=E(_,"DIV",{class:!0});var P=B(n);g&&g.l(P),P.forEach($),d=z(_),r=E(_,"DIV",{class:!0});var x=B(r);b&&b.l(x),x.forEach($),_.forEach($),h.forEach($),this.h()},h:function(){V(n,"class","w-full py-4"),S(n,q,13,2,395),V(r,"class","w-full py-2"),S(r,q,16,2,461),V(t,"class","fixed px-4 w-full min-h-[50vh] bottom-0 left-0 rounded-t-3xl popup s-AfDz4RO5HvPi"),S(t,q,8,1,214),V(e,"class","w-full fixed top-0 right-0 left-0 bottom-0"),S(e,q,7,0,155)},m:function(l,h){M(l,e,h),k(e,t),k(t,n),g&&g.m(n,null),k(t,d),k(t,r),b&&b.m(r,null),s=!0,u||(f=be(a=he.call(null,t,o[3])),u=!0)},p:function(l,[h]){g&&g.p&&(!s||h&2)&&te(g,p,l,l[1],s?oe(p,l[1],h,Be):ne(l[1]),ae),b&&b.p&&(!s||h&2)&&te(b,m,l,l[1],s?oe(m,l[1],h,Ee):ne(l[1]),re),a&&ye(a.update)&&h&1&&a.update.call(null,l[3])},i:function(l){s||(y(g,l),y(b,l),we(()=>{s&&(c||(c=se(t,W,{duration:300,y:500},!0)),c.run(1))}),s=!0)},o:function(l){w(g,l),w(b,l),c||(c=se(t,W,{duration:300,y:500},!1)),c.run(0),s=!1},d:function(l){l&&$(e),g&&g.d(l),b&&b.d(l),l&&c&&c.end(),u=!1,f()}};return j("SvelteRegisterBlock",{block:v,id:X.name,type:"component",source:"",ctx:o}),v}function Se(o,e,t){let{$$slots:n={},$$scope:d}=e;me("Popup",n,["header","body"]);let{isOpen:r=!1}=e;const a=["isOpen"];Object.keys(e).forEach(s=>{!~a.indexOf(s)&&s.slice(0,2)!=="$$"&&s!=="slot"&&console.warn(`<Popup> was created with unknown prop '${s}'`)});const c=()=>t(0,r=!1);return o.$$set=s=>{"isOpen"in s&&t(0,r=s.isOpen),"$$scope"in s&&t(1,d=s.$$scope)},o.$capture_state=()=>({clickOutside:he,fly:W,isOpen:r}),o.$inject_state=s=>{"isOpen"in s&&t(0,r=s.isOpen)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[r,d,n,c]}class ge extends fe{constructor(e){super(e),pe(this,e,Se,X,de,{isOpen:0}),j("SvelteRegisterComponent",{component:this,tagName:"Popup",options:e,id:X.name})}get isOpen(){throw new Error("<Popup>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set isOpen(e){throw new Error("<Popup>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:je}=$e,F="src/routes/home/+page.svelte";function ue(o,e,t){const n=o.slice();return n[10]=e[t],n[12]=t,n}function Y(o){var r;let e,t;function n(){return o[7](o[12],o[10])}e=new T({props:{chooseType:"secondary",icon:"arrow",size:"md",message:(r=o[10])==null?void 0:r.name},$$inline:!0}),e.$on("click",n);const d={c:function(){D(e.$$.fragment)},l:function(c){R(e.$$.fragment,c)},m:function(c,s){I(e,c,s),t=!0},p:function(c,s){var f;o=c;const u={};s&2&&(u.message=(f=o[10])==null?void 0:f.name),e.$set(u)},i:function(c){t||(y(e.$$.fragment,c),t=!0)},o:function(c){w(e.$$.fragment,c),t=!1},d:function(c){L(e,c)}};return j("SvelteRegisterBlock",{block:d,id:Y.name,type:"if",source:"(39:3) {#if vessel.name !== 'defaultValue'}",ctx:o}),d}function Z(o){let e,t,n=o[10].name!=="defaultValue"&&Y(o);const d={c:function(){n&&n.c(),e=ce()},l:function(a){n&&n.l(a),e=ce()},m:function(a,c){n&&n.m(a,c),M(a,e,c),t=!0},p:function(a,c){a[10].name!=="defaultValue"?n?(n.p(a,c),c&2&&y(n,1)):(n=Y(a),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(U(),w(n,1,1,()=>{n=null}),Q())},i:function(a){t||(y(n),t=!0)},o:function(a){w(n),t=!1},d:function(a){n&&n.d(a),a&&$(e)}};return j("SvelteRegisterBlock",{block:d,id:Z.name,type:"each",source:"(38:2) {#each $VesselsStorage as vessel, i}",ctx:o}),d}function G(o){let e,t,n;function d(c){o[9](c)}let r={$$slots:{body:[ve]},$$scope:{ctx:o}};o[0]!==void 0&&(r.isOpen=o[0]),e=new ge({props:r,$$inline:!0}),ke.push(()=>Pe(e,"isOpen",d));const a={c:function(){D(e.$$.fragment)},l:function(s){R(e.$$.fragment,s)},m:function(s,u){I(e,s,u),n=!0},p:function(s,u){const f={};u&8200&&(f.$$scope={dirty:u,ctx:s}),!t&&u&1&&(t=!0,f.isOpen=s[0],Oe(()=>t=!1)),e.$set(f)},i:function(s){n||(y(e.$$.fragment,s),n=!0)},o:function(s){w(e.$$.fragment,s),n=!1},d:function(s){L(e,s)}};return j("SvelteRegisterBlock",{block:a,id:G.name,type:"if",source:"(56:1) {#if openPopup && selectedVessel}",ctx:o}),a}function ve(o){var c;let e,t,n,d,r;t=new T({props:{href:`/vessel/${(c=o[3])==null?void 0:c.name}`,isButton:!1,chooseType:"tertiary",icon:"arrowBlack",size:"md",message:"Open"},$$inline:!0}),d=new T({props:{chooseType:"tertiary",icon:"arrowBlack",size:"md",message:"Delete"},$$inline:!0}),d.$on("click",o[8]);const a={c:function(){e=O("div"),D(t.$$.fragment),n=C(),D(d.$$.fragment),this.h()},l:function(u){e=E(u,"DIV",{class:!0,slot:!0});var f=B(e);R(t.$$.fragment,f),n=z(f),R(d.$$.fragment,f),f.forEach($),this.h()},h:function(){V(e,"class","w-full"),V(e,"slot","body"),S(e,F,57,3,1456)},m:function(u,f){M(u,e,f),I(t,e,null),k(e,n),I(d,e,null),r=!0},p:function(u,f){var g;const p={};f&8&&(p.href=`/vessel/${(g=u[3])==null?void 0:g.name}`),t.$set(p)},i:function(u){r||(y(t.$$.fragment,u),y(d.$$.fragment,u),r=!0)},o:function(u){w(t.$$.fragment,u),w(d.$$.fragment,u),r=!1},d:function(u){u&&$(e),L(t),L(d)}};return j("SvelteRegisterBlock",{block:a,id:ve.name,type:"slot",source:"(58:3) ",ctx:o}),a}function J(o){let e,t,n,d,r,a,c,s,u;n=new _e({$$inline:!0}),r=new T({props:{disabled:o[0],href:"/create-vessel",classProp:"flex w-full",message:"My Fleet",chooseType:"primary",icon:"plus",size:"lg",isButton:!1},$$inline:!0});let f=o[1];ie(f);let p=[];for(let v=0;v<f.length;v+=1)p[v]=Z(ue(o,f,v));const g=v=>w(p[v],1,1,()=>{p[v]=null});let m=o[0]&&o[5]&&G(o);const b={c:function(){e=O("div"),t=O("div"),D(n.$$.fragment),d=C(),D(r.$$.fragment),a=C(),c=O("div");for(let i=0;i<p.length;i+=1)p[i].c();s=C(),m&&m.c(),this.h()},l:function(i){e=E(i,"DIV",{class:!0});var l=B(e);t=E(l,"DIV",{class:!0});var h=B(t);R(n.$$.fragment,h),h.forEach($),d=z(l),R(r.$$.fragment,l),a=z(l),c=E(l,"DIV",{class:!0});var _=B(c);for(let P=0;P<p.length;P+=1)p[P].l(_);_.forEach($),s=z(l),m&&m.l(l),l.forEach($),this.h()},h:function(){V(t,"class","top-section flex justify-center items-center py-12"),S(t,F,21,1,606),V(c,"class","w-full overflow-y-scroll max-h-[40vh] py-6 gap-2 px-5 flex flex-col justify-start"),S(c,F,36,1,887),V(e,"class","w-full text-green"),S(e,F,19,0,552)},m:function(i,l){M(i,e,l),k(e,t),I(n,t,null),k(e,d),I(r,e,null),k(e,a),k(e,c);for(let h=0;h<p.length;h+=1)p[h]&&p[h].m(c,null);k(e,s),m&&m.m(e,null),u=!0},p:function(i,[l]){const h={};if(l&1&&(h.disabled=i[0]),r.$set(h),l&15){f=i[1],ie(f);let _;for(_=0;_<f.length;_+=1){const P=ue(i,f,_);p[_]?(p[_].p(P,l),y(p[_],1)):(p[_]=Z(P),p[_].c(),y(p[_],1),p[_].m(c,null))}for(U(),_=f.length;_<p.length;_+=1)g(_);Q()}i[0]&&i[5]?m?(m.p(i,l),l&1&&y(m,1)):(m=G(i),m.c(),y(m,1),m.m(e,null)):m&&(U(),w(m,1,1,()=>{m=null}),Q())},i:function(i){if(!u){y(n.$$.fragment,i),y(r.$$.fragment,i);for(let l=0;l<f.length;l+=1)y(p[l]);y(m),u=!0}},o:function(i){w(n.$$.fragment,i),w(r.$$.fragment,i),p=p.filter(Boolean);for(let l=0;l<p.length;l+=1)w(p[l]);w(m),u=!1},d:function(i){i&&$(e),L(n),L(r),Ve(p,i),m&&m.d()}};return j("SvelteRegisterBlock",{block:b,id:J.name,type:"component",source:"",ctx:o}),b}function De(o,e,t){let n,d,r;A(N,"VesselsStorage"),H(o,N,i=>t(1,n=i));let{$$slots:a={},$$scope:c}=e;me("Page",a,[]);let{openPopup:s=!1}=e,u=K("indexVelles");A(u,"indexVelles"),H(o,u,i=>t(2,d=i));let f=K("selectedVessel");A(f,"selectedVessel"),H(o,f,i=>t(3,r=i));const p=()=>{n.splice(d,1),N.set(n),t(0,s=!1)},g=["openPopup"];Object.keys(e).forEach(i=>{!~g.indexOf(i)&&i.slice(0,2)!=="$$"&&i!=="slot"&&je.warn(`<Page> was created with unknown prop '${i}'`)});const m=(i,l)=>{le(u,d=i,d),le(f,r=l,r),console.log("selectedVessel",r),t(0,s=!0)},b=()=>p();function v(i){s=i,t(0,s)}return o.$$set=i=>{"openPopup"in i&&t(0,s=i.openPopup)},o.$capture_state=()=>({VesselsStorage:N,Button:T,LogoMain:_e,Popup:ge,getContext:K,openPopup:s,indexVelles:u,selectedVessel:f,handleDelete:p,$VesselsStorage:n,$indexVelles:d,$selectedVessel:r}),o.$inject_state=i=>{"openPopup"in i&&t(0,s=i.openPopup),"indexVelles"in i&&t(4,u=i.indexVelles),"selectedVessel"in i&&t(5,f=i.selectedVessel)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[s,n,d,r,u,f,p,m,b,v]}class Te extends fe{constructor(e){super(e),pe(this,e,De,J,de,{openPopup:0}),j("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:J.name})}get openPopup(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set openPopup(e){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Te as component};
