import{S as z,i as A,s as y,e as C,b as B,d as N,f as J,g as k,h as M,J as P,o as j,w as v,C as g,y as G,z as H,A as I,D as b,B as K,v as L,F as O,V as Q}from"../chunks/index.d4a696fd.js";import{V as R}from"../chunks/VesselForm.37daef4e.js";import{d as T,v as U,V as w}from"../chunks/store.c47e4482.js";import{g as W}from"../chunks/navigation.5b679214.js";import{b as X}from"../chunks/paths.71cd8553.js";function V(o){let n,e,u,a,r,l,c;function d(s){o[7](s)}function f(s){o[8](s)}function m(s){o[9](s)}function h(s){o[10](s)}function E(s){o[11](s)}let _={isCreate:!0};return o[1]!==void 0&&(_.isError=o[1]),o[2]!==void 0&&(_.isErrorName=o[2]),o[5]!==void 0&&(_.vesselName=o[5]),o[0]!==void 0&&(_.start_value=o[0]),o[3]!==void 0&&(_.errors=o[3]),n=new R({props:_}),v.push(()=>g(n,"isError",d)),v.push(()=>g(n,"isErrorName",f)),v.push(()=>g(n,"vesselName",m)),v.push(()=>g(n,"start_value",h)),v.push(()=>g(n,"errors",E)),n.$on("click",o[12]),{c(){G(n.$$.fragment)},l(s){H(n.$$.fragment,s)},m(s,i){I(n,s,i),c=!0},p(s,i){const p={};!e&&i&2&&(e=!0,p.isError=s[1],b(()=>e=!1)),!u&&i&4&&(u=!0,p.isErrorName=s[2],b(()=>u=!1)),!a&&i&32&&(a=!0,p.vesselName=s[5],b(()=>a=!1)),!r&&i&1&&(r=!0,p.start_value=s[0],b(()=>r=!1)),!l&&i&8&&(l=!0,p.errors=s[3],b(()=>l=!1)),n.$set(p)},i(s){c||(k(n.$$.fragment,s),c=!0)},o(s){N(n.$$.fragment,s),c=!1},d(s){K(n,s)}}}function Y(o){let n=o[4].id,e,u,a=V(o);return{c(){a.c(),e=C()},l(r){a.l(r),e=C()},m(r,l){a.m(r,l),B(r,e,l),u=!0},p(r,[l]){l&16&&y(n,n=r[4].id)?(L(),N(a,1,1,O),J(),a=V(r),a.c(),k(a,1),a.m(e.parentNode,e)):a.p(r,l)},i(r){u||(k(a),u=!0)},o(r){N(a),u=!1},d(r){r&&M(e),a.d(r)}}}let Z="please fill all fields",$="please fill vessel name",x="vessel name already exists";function ee(o,n,e){let u;P(o,w,t=>e(14,u=t));let a=!1,r=!1,l=[""],c=!1,d=T,f="",m=[{name:"light-ship",value:0,wasfocusedCount:!1},{name:"d-fwd-pp",value:0,wasfocusedCount:!1},{name:"lbp",value:0,wasfocusedCount:!1},{name:"d-mid-pp",value:0,wasfocusedCount:!1},{name:"lbm",value:0,wasfocusedCount:!1},{name:"d-aft-pp",value:0,wasfocusedCount:!1},{name:"keel-thk",value:0,wasfocusedCount:!1}];const h=()=>{s(),!E()&&(e(4,d={...d,id:U(),name:f,start_value:m}),Q(w,u=[d,...u],u),console.log("vessel:",d),W(`${X}/home`))};function E(){if(c||(e(3,l=[...l,Z]),e(1,a=!0)),f===""&&(e(3,l=[...l,$]),e(2,r=!0)),u.some(t=>t.name===f)&&(e(3,l=[...l,x]),e(2,r=!0)),a||r)return!0}function _(){m.forEach(t=>{t.value=0,t.wasfocusedCount=!1}),e(5,f="")}function s(){e(1,a=!1),e(2,r=!1),e(3,l=[""])}j(()=>{_()});function i(t){a=t,e(1,a)}function p(t){r=t,e(2,r)}function S(t){f=t,e(5,f)}function D(t){m=t,e(0,m)}function F(t){l=t,e(3,l)}const q=()=>h();return o.$$.update=()=>{o.$$.dirty&1&&(c=m.every(t=>t.wasfocusedCount===!0))},[m,a,r,l,d,f,h,i,p,S,D,F,q]}class le extends z{constructor(n){super(),A(this,n,ee,Y,y,{})}}export{le as component};
